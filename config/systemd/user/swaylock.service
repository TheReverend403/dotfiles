[Unit]
Description=Screen locker for Wayland
Documentation=man:swaylock(1)
PartOf=sway-session.target
After=sway-session.target
Requires=sway-session.target

[Service]
ExecStartPre=/bin/sh -c "makoctl mode -a away || true"
ExecStopPost=/bin/sh -c "makoctl mode -r away || true"
ExecStart=%h/.config/sway/bin/lock
Restart=on-failure
RestartSec=1
TimeoutStopSec=10

[Install]
WantedBy=sway-session.target
